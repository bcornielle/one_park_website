<main>
    <div class="container">
        <div class="heading">
            <form role="search" action="/search">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroupPrepend">SEARCH</span>
                    </div>
                    <input id="query" type="text" name="q" class="form-control giant search" value="{{ get:q }}">
                </div>
            </form>
        </div>
        <article class="content">
            {{ search:results }}
            {{ if no_results }}
            <h4>No Results</h4>
            {{else}}
            <div class="result">
                <a href="{{ url }}">
                    {{ if intro_image }}
                    <img src="{{ glide src='{ intro_image }' square='140' fit='crop' }}" width="140" height="140"
                         class="small-image">
                    {{ elseif hero_image }}
                    <img src="{{ glide src='{ hero_image }' square='140' fit='crop' }}" width="140" height="140"
                         class="small-image">
                    {{ /if }}
                    <h3>{{ title }}</h3>
                    <p>{{ content strip_tags="img|a|p" safe_truncate="180|..." }}</p>
                    <code>{{ url }}</code>
                    <div class="meta">
                        {{ if (date | days_ago) < 7 }}
                        {{ date | relative }}
                        {{ elseif (date | format:Y) == now | format:Y }}
                        {{ date format="M j" }}
                        {{ else }}
                        {{ date format="M j, Y" }}
                        {{ /if }}
                    </div>
                </a>
            </div>
            {{ /if }}
            {{ /search:results }}
        </article>
    </div>
</main>